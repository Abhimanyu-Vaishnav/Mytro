{% extends "core/base.html" %}
{% block title %}Profile - Mytro{% endblock %}
{% block content %}
<div class="container my-5" style="max-width: 600px;">
  <div class="card shadow rounded p-4">
    <div class="d-flex flex-column align-items-center">

      {% if user.profile.profile_pic %}
        <img src="{{ user.profile.profile_pic.url }}" alt="{{ user.username }}" 
             class="rounded-circle border border-kesri" style="width: 160px; height: 160px; object-fit: cover;">
      {% else %}
        <div class="rounded-circle bg-secondary d-flex justify-content-center align-items-center border border-kesri" 
             style="width: 160px; height: 160px; font-size: 72px; color: white;">
          {{ user.username|slice:":1"|upper }}
        </div>
      {% endif %}

      <h3 class="mt-3 text-kesri fw-bold">{{ user.username }}</h3>
      <p class="mb-1"><strong>Name:</strong> {{ user.first_name }} {{ user.last_name }}</p>
      <p class="mb-1"><strong>Email:</strong> {{ user.email }}</p>

      <div class="mb-2 w-100">
        <strong>Gender:</strong> {{ user.profile.gender|default:"Not specified" }}
      </div>
      <div class="mb-2 w-100">
        <strong>Date of Birth:</strong> {{ user.profile.dob|date:"F j, Y" | default:"Not specified" }}
      </div>
      <div class="mb-2 w-100">
        <strong>Interests:</strong> 
          {% if user.profile.interests.all %}
            {% for interest in user.profile.interests.all %}
              <span class="badge rounded-pill bg-kesri text-white">{{ interest.name }}</span>
            {% empty %}
              No interests specified.
            {% endfor %}
          {% else %}
            No interests specified.
          {% endif %}
      </div>
      <div class="mb-2 w-100">
        <strong>Website:</strong> 
        {% if user.profile.website %}
          <a href="{{ user.profile.website }}" target="_blank">{{ user.profile.website }}</a>
        {% else %}
          Not specified.
        {% endif %}
      </div>
      <div class="mb-2 w-100">
        <strong>Phone Number:</strong> {{ user.profile.phone_number|default:"Not specified" }}
      </div>

      <div class="mb-4 w-100">
        <strong>Bio:</strong>
        <p>{{ user.profile.bio|default:"No bio available." }}</p>
      </div>

      <div class="mb-4 w-100 d-flex justify-content-around">
        <div>
          <strong>Location:</strong>
          <p>{{ user.profile.location|default:"Not specified" }}</p>
        </div>
        <div>
          <strong>Language:</strong>
          <p>{{ user.profile.language_preference|default:"Not set." }}</p>
        </div>
      </div>

      <a href="{% url 'edit_profile' %}" class="btn btn-kesri mt-4 px-5 py-2 fw-bold">Edit Profile</a>
    </div>
  </div>
</div>

<style>
  .text-kesri { color: #ff7f50 !important; }
  .bg-kesri { background-color: #ff7f50 !important; }
  .badge.bg-kesri { padding: 0.4em 0.75em; font-size: 0.9em; }
  .btn-kesri {
    background-color: #ff7f50;
    border: none;
    color: white;
    transition: 0.3s;
    font-weight: 700;
    border-radius: 8px;
  }
  .btn-kesri:hover {
    background-color: #e6733d;
  }
  .border-kesri {
    border-color: #ff7f50 !important;
  }
</style>
{% endblock %}
